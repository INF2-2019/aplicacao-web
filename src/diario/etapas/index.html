<!DOCTYPE html>
<html lang="pt" dir="ltr">

<head>
	<link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="../../css/materialize.css">
	<link rel="stylesheet" href="../../css/estilo.css">

	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />

	<title>Manutenção de Etapas</title>
</head>

<body onload="consulta()">

	<ul id="dropdown1" class="dropdown-content">
	</ul>
	<nav>
		<div class="nav-wrapper">
			<a class="brand-logo">Diário</a>
			<ul id="navbars-itens" class="right hide-on-med-and-down">
				<li style="width:200px;" id="nav-funcoes"><a class="dropdown-trigger" href="#!"
						data-target="dropdown1">Funções<i class="material-icons right">arrow_drop_down</i></a></li>
			</ul>
		</div>
	</nav>
	<!-- fim header -->

	<div id="corpo-manutencao-etapas" class="container row" style="margin-top: 2%">

		<h2>Etapas</h2>

		<div class="row">
			<div class="input-field col s12 m12 l4">
				<i class="material-icons prefix">search</i>
				<input id="search" type="number" autocomplete="off" oninput="pesquisarEtapa()">
				<label for="search">Pesquisar etapa</label>
			</div>
			<a class="btn col s12 m12 l4 offset-l4 waves-effect waves-light primary modal-trigger" href="#AdicionaForm"
				name="AdicionarEtapa" id="Adiciona">Adicionar</a>
		</div>

		<!-- RESPOSTA DA CONSULTA -->
		<div id="consulta-etapas" class="col s12">
			<table id="tabela-etapas" class="responsive-table centered highlight">
				<thead>
					<tr>
						<th>ID</th>
						<th>Ano</th>
						<th>Valor</th>
						<th>Ações</th>
					</tr>
				</thead>
				<tbody id="tabela-etapas-corpo">

				</tbody>
			</table>
		</div>

		<!-- FORMULÁRIO ADICIONAR -->
		<div id="AdicionaForm" class="modal">
			<div id="div-adiciona" class="row modal-content">
				<h4>Adicionar etapa</h4>
				<div class="input-field col s4">
					<input type="number" name="ano" value="2019" id="adicionaAnoEtapa" disabled>
					<label class="col" for="ano">Ano</label>
				</div>
				<div class="input-field col s4">
					<input type="text" name="valor" id="adicionaValorEtapa"
						onload="verificaValor('adicionaValorEtapa', this.value)">
					<label class="col" for="valor">Valor</label>
				</div>
			</div>
			<div class="container modal-footer">
				<a class="modal-close btn utils erro-2">Cancelar</a>
				<a class="modal-close btn primary" onclick="adiciona()">Adicionar</a>
			</div>
		</div>

		<!-- FIM FORM ADICIONA ETAPA -->

		<!-- FORMULÁRIO EDITA ETAPA -->
		<div class="modal" id="EditaForm">
			<h4 style="padding: 15pt;">Editar etapa</h4>
			<div class="row modal-content">
				<div class="input-field col s4">
					<input id="editaAno" type="number" value="2019" disabled />
					<label for="editaAno">Ano</label>
				</div>
				<div class="input-field col s4">
					<input id="editaValorEtapa" type="text" oninput="verificaValor('editaValorEtapa', this.value)" />
					<label for="editaValorEtapa">Valor</label>
				</div>
			</div>
			<div class="container modal-footer">
				<a class="modal-close btn utils erro-2">Cancelar</a>
				<a class="modal-close btn primary" onclick="atualiza()">Salvar</a>
			</div>
		</div>

		<!-- FIM FORMULÁRIO EDITA ETAPAS -->

		<!--FORMULÁRIO REMOVER ETAPAS-->
		<div class="modal" id="RemoveForm">
			<div id="conteudo" class="modal-content">
				<h4>Deletar etapa</h4>
				<h6>Tem certeza que deseja deletar esta etapa?</h6>
			</div>
			<div class="modal-footer">
				<a class="modal-close btn utils erro-2">Cancelar</a>
				<a class="modal-close btn primary" onclick="deleta()">Deletar</a>
			</div>
		</div>

	</div>

	<!-- IMPORTAÇÕES -->
	<!-- Arquivos base -->
	<script src="../../js/jquery-3.4.1.js"></script>
	<script src="../../js/materialize.js"></script>
	<script src="../../js/diario/etapas/utils.js"></script>
	<!-- Arquivos que executam as funções -->
	<script src="../../js/diario/etapas/adiciona.js"></script>
	<script src="../../js/diario/etapas/consulta.js"></script>
	<script src="../../js/diario/etapas/deleta.js"></script>
	<script src="../../js/diario/etapas/edita.js"></script>
	<script src="../../js/diario/navbars/navbar.js"></script>
	<script>cargoLogado();</script>
	<script>$(".dropdown-trigger").dropdown();</script>
</body>

</html>